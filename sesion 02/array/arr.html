<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        ARRAY: Mảng thuộc kiểu dữ liệu phức tạp (tham chiếu - reference)
        I.Cách khai báo 
        Q/A: có bao nhiêu cách khai báo (khởi tạo 1 mảng);
        1. let arr = [];
        2. let arr = new Array();
        -Các phần tử trong mảng ngăn cách với nhau bởi dấu phẩy
        -mảng có thể chứa nhiều kiểu dữ liệu khác nhau
        -mảng đánh chỉ mục index từ 0
        -kiểm tra độ dài mảng : tên mảng.length
        - Các cách duyệt mảng
        1.dùng for
        2.for-in : trả về vị trí 
        3.for-of : trả về giá trị
        ***********
        CRUD với mảng
        1.C:Create
        + unshift : thêm vào đầu
        + push : thêm vào cuối
        + splice : thêm vào vị trí bất kì
        2.R:Read
        - dùng for, for-in,for-of
        3.U:Update
        - dùng splice
        - update theo vị trí
        4.D:Delete
        -pop : xóa phần tử cuối cùng trong mảng
        -shift : xóa phần tử đầu của mảng
        -splice : xóa phần tử bất kì của mảng

        ----------------------------------------------------------------
                        CÁC PHƯƠNG THỨC LÀM VIỆC VỚI ARRAY
        1.pop: xóa phần tử cuối
        2.push:thêm vào cuối
        3.shift: xóa phần tử đầu
        4.unshift: thêm vào đầu
        5.join: gộp các phần tử trong mảng thành 1 chuỗi
        6.split: chuyển 1 chuỗi thành 1 mảng
        7.concat: gộp mảng
        8.splice:thêm , sửa ,xóa
        9.slice : trích xuất 1 số phần tử của mảng(bắt đầu và kết thúc phụ thuộc vào tham số truyền vào) -> mảng mới
        10.map: lặp qua các phần tử của mảng và cho phép xử lý giá trị của phần tử đó
        11.filter: lọc các phần tử thỏa mãn 1 đk 
        12.forEach: lặp qua các phần tử của mảng
        13.reduce: duyệt qua từng phần tử trong mảng,sau đó trả về 1 giá trị cuối cùng->giá trị này phụ thuộc vào chương trình của hàm mà bạn truyền vào reduce
        14.find: trả về giá trị của phần tử đầu tiên trong mảng thỏa mãn được điều kiện kiểm tra(được truyền vào như 1 hàm)
        15.findindex:  hàm dùng để tìm vị trí đầu tiên của phần tử được tìm thấy thỏa điều kiện nào đó.
        16.startswitch: sẽ kiểm tra xem chuỗi có được bắt đầu bằng một chuỗi con được cung cấp hay không.
        17.endswith: chức năng xác định liệu một chuỗi có kết thúc bằng một kí tự hoặc một chuỗi được người dùng cung cấp hay không.
        18.charAt: tìm kiếm các kí tự ở vị trí mong muốn
        19.Indexof: tìm kiếm phần tử trong mảng js
        20.include: 
        21.every: duyệt qua từng phần tử và kiểm tra 1 điều kiện nào đó có đúng hay không
        22.fill: thay đổi tất cả các giá trị trong mảng thành 1 mảng có các giá trị mới
        23.copyWithin: hàm dùng để sao chép các phần tử trong mảng với vị trí bắt đầu và kết thúc việc sao chép được xác định.
        24.reverse: đảo ngược thứ tự của các phần tử trong mảng
        25.sort: dùng để sắp xếp các phần tử trong chính mảng đó
        ----------------------------------------------------------------    


     -->
    <input type="text" placeholder="mời nhập tên sản phẩm muốn mua" id="product">
    <button onclick="addToCart()">mua</button>
    <script>
        // let students = ["hoa","hồng","minh","hùng"];
        // // students.splice(1,1,"hạnh");
        // // students[1] = "hạnh";

        // console.log(students);
        // console.log("**************************");
        // for (let i = 0; i < students.length; i++) {
        //     console.log( students[i] );
        // }
        // console.log("**************************");
        // for (const key in students) {
        //     console.log( students[key] );
        // }
        // console.log("********************************");
        // for (const iterator of students) {
        //     console.log( iterator);
        // }

        let products = [
            {
                id:1,
                name:"iphone5",
                price : 5000,
            },
            {
                id:2,
                name:"iphone6",
                price : 6000,
            },
            {
                id:3,
                name:"iphone7",
                price : 8000,
            },
        ];

        let cart=[];
        function addToCart(){
            let flag = false;
            let prCart;
            let productName = document.getElementById("product").value;
            // kiểm tra xem sản phẩm có trong cửa hàng hay không
            for(let i = 0; i < products.length; i++){
                if(productName === products[i].name){
                    console.log("sản phẩm có trong cửa hàng");
                    prCart = products[i];
                    flag = true;
                    break;
                }
            }
            if(!flag){
                    console.log("sản phẩm không có trong cửa hàng");
            } else {
                // tiến hành cho sản phẩm vào giỏ hàng
                let check = false;
                for(let i = 0; i < cart.length; i++){
                    if(productName === cart[i].name){
                        check = true;
                        break;
                    };
                };
                if(check){
                    //tăng số lượng
                    for(let j=0;j<cart.length;j++){
                        if(productName === cart[j].name){
                            cart[j].quantity++;
                            break;
                        }
                    }
                }else{
                    //thêm hàng vào trong giỏ
                    prCart.quantity = 1;
                    cart.push(prCart);
                }
            }
            console.log(cart);
        }
        /*
        PHÂN TÍCH BÀI TOÁN
        1.Lấy giá trị ô input người dùng nhập vào
        2.Kiểm tra trong cửa hàng có sản phẩm để bán hay không
        3.Nếu có thì thêm vào giỏ hàng gồm các thuộc tính
            {
                id:"",
                name:"",
                quantity:"",
                price:"",
            }
            kiểm tra xem sản phẩm thêm vào có trong giỏ hàng hay chưa
            nếu có rồi thì tăng số lượng
            nếu chưa thì thêm vào giỏ hàng
        */



        // let product = ["a", "b", "c", "d"];
        // let item = "b";
        // let flag = false;
        // for (let i = 0; i < product.length; i++) {
        //     if (product[i] === item) {
        //         flag = true;
        //         break;
        //     }
        // }
        // if (flag) {
        //     console.log("có b");
        // }else {
        //     console.log("khong có b");
        // }
        
     </script>
</body>
</html>